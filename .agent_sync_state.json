{
  "verification": {
    "agent": "@claude-code-opus",
    "timestamp": "2026-02-07T05:20:00Z",
    "status": "HANDOFF",
    "current_task": "LOGGING ALL STATE FOR NEXT AGENT - Clean repo ready, needs git add/commit/push + Vercel link",
    "progress": "70%",
    "blockers": "None - all parallel agents succeeded",
    "alignment_verified": true
  },

  "CLEAN_REPO": {
    "path": "/Users/nico/apex-os-clean",
    "status": "READY - build passes, git initialized, GitHub repo created",
    "github_repo": "https://github.com/fratilanico/apex-os-vibe",
    "github_user": "fratilanico",
    "git_toplevel": "/Users/nico/apex-os-clean (STANDALONE - not a subdirectory)",
    "git_config": { "user.name": "Nico Fratila", "user.email": "fratilanicu@gmail.com" },
    "remote_origin": "https://github.com/fratilanico/apex-os-vibe.git",
    "build_result": {
      "status": "PASSED",
      "time": "61 seconds",
      "modules_transformed": 3928,
      "js_chunks": 38,
      "css_chunks": 2,
      "errors": 0,
      "warnings": "23 sourcemap (cosmetic), 3 CSS syntax (template literal), 1 chunk size (GamePage 988KB)"
    },
    "files_structure": [
      "App.tsx (router, 204 lines)",
      "index.html, index.tsx, index.css (entry points)",
      "vite.config.ts, tsconfig.json, tailwind.config.js, postcss.config.js (build configs)",
      "vercel.json (deployment config)",
      "package.json, package-lock.json (deps installed, node_modules present)",
      ".gitignore (bulletproof, covers .env, node_modules, dist, .vercel, PM2, backups)",
      "api/ (serverless functions - 30+ endpoints)",
      "components/ (React components - all pages reference these)",
      "config/ (app config)",
      "data/ (static data - curriculum, bosses, NPCs, etc)",
      "hooks/ (custom React hooks)",
      "lib/ (AI providers, audit, knowledge, RLM, terminal, validation, websocket)",
      "pages/ (all page components - HomePage through ShowMeTheMoneyFix5Page)",
      "public/ (favicon, logos, investor-pack)",
      "src/ (JARVIS components, animations, tests)",
      "stores/ (17 Zustand stores)",
      "types/ (TypeScript type definitions)"
    ]
  },

  "WHAT_NEXT_AGENT_MUST_DO": {
    "step_1": "cd /Users/nico/apex-os-clean && git add -A && git status (verify .gitignore works, no .env or node_modules staged)",
    "step_2": "git commit -m 'feat: Clean room init - exact copy of infoacademy.uk production deploy'",
    "step_3": "git push -u origin main",
    "step_4": "Link Vercel project to the new GitHub repo (may need to update Vercel project settings to point at new repo)",
    "step_5": "Deploy Vercel preview from the new repo: vercel deploy (from /Users/nico/apex-os-clean)",
    "step_6": "Compare preview vs https://infoacademy.uk - must be IDENTICAL",
    "step_7": "If preview matches, run: vercel --prod (to make it the live production deploy)",
    "step_8": "Copy AGENTS.md from /Users/nico/apex-os-vibe/AGENTS.md to /Users/nico/apex-os-clean/AGENTS.md",
    "step_9": "Apply v6.1 edits (PM2 ban, production safety, clean repo rule, Cloud Run) - full edit plan prepared below"
  },

  "AGENTS_MD_V61_EDIT_PLAN": {
    "file_to_copy_from": "/Users/nico/apex-os-vibe/AGENTS.md",
    "file_to_copy_to": "/Users/nico/apex-os-clean/AGENTS.md",
    "edits": [
      {
        "id": 1,
        "what": "Version bump header",
        "lines": "1, 10, 15, 926, 929",
        "action": "Replace v6.0 with v6.1, '15 + 2 Appendices' with '16 + 2 Appendices'"
      },
      {
        "id": 2,
        "what": "TOC: Add Section 16",
        "location": "After line 43 (after Section 15 row, before Appendix A row)",
        "insert": "│  16  Production Safety Rules              CRITICAL    (core)              │"
      },
      {
        "id": 3,
        "what": "Section 1.2: Add clean repo rule",
        "location": "Lines 84-87 (expand root_git_warning yaml block)",
        "action": "Add clean_repo_rule yaml entry pointing to /Users/nico/apex-os-clean"
      },
      {
        "id": 4,
        "what": "NEW Section 16: Production Safety Rules",
        "location": "After line 854 (after Section 15 closing), before Appendix A",
        "content_summary": "Golden production rules, LKGC backup URL, deployment workflow (feature branch -> preview -> verify -> merge)"
      },
      {
        "id": 5,
        "what": "Appendix A.3: Architecture Decisions",
        "location": "After line 889 (after A.2 Essential Commands)",
        "content_summary": "Cloud Run approved, £900 GCP credits, PM2 banned"
      },
      {
        "id": 6,
        "what": "Appendix B.3: Banned Tools & Processes",
        "location": "After line 919 (after B.2 Code Quality)",
        "content_summary": "PM2 permanently banned, killed 2026-02-07, use Cloud Run instead"
      }
    ]
  },

  "CRITICAL_CONTEXT": {
    "production_live_url": "https://infoacademy.uk",
    "lkgc_backup_url": "https://apex-os-vibe-ov8cxp9tm-nicos-projects-81a407b9.vercel.app",
    "lkgc_deploy_id": "dpl_6rdYGtgBSf6FucnNAjW8ZsSQ19rk",
    "vercel_project": "apex-os-vibe (prj_K6Oto4COQAm7mdmgoj4NMZg7QdiL)",
    "vercel_team": "nicos-projects-81a407b9",
    "production_deploy_method": "LOCAL vercel deploy --prod (NOT git-triggered)",
    "why_git_deploys_failed_before": "Root repo /Users/nico only tracked 9 items in apex-os-vibe/. Missing App.tsx, index.html, vite.config.ts, and 300+ source files. Git-triggered Vercel builds failed with 'Could not resolve ./App'.",
    "why_clean_repo": "Old repo at /Users/nico was git root tracking entire home directory. Commits pulled in ghost components from stale branches. User lost 10 hours to WaitlistV2 being pushed to production breaking everything."
  },

  "PM2_STATUS": "KILLED on 2026-02-07. PID was 53422. ecosystem.config.cjs deleted from both apex-os-vibe and apex-os-core. No launchd plist. PERMANENTLY BANNED.",

  "OLD_REPO_WARNING": {
    "path": "/Users/nico (root git) + /Users/nico/apex-os-vibe (subdirectory)",
    "remote": "https://github.com/fratilanico/apex-os.git",
    "branch": "fix/track-build-files-2026-02-07 (last worked on, has 649f391 commit)",
    "safety_branch": "safety/pre-build-fix-2026-02-07 at 5f80e7d",
    "status": "ABANDONED - do NOT use for deployments. Clean repo replaces it.",
    "stashes": "7 stashes exist but are tainted by root repo structure"
  },

  "GCP_STATE": {
    "account": "fratilanicu@gmail.com",
    "project": "cs-poc-amjmnp0kbq2todq7xnldvpm",
    "credits": "~£900",
    "apis_not_enabled_yet": ["run.googleapis.com", "cloudbuild.googleapis.com", "artifactregistry.googleapis.com"]
  },

  "USER_PREFERENCES": {
    "tone": "Tony Stark, ASCII dashboards, boxed outputs, zero fluff",
    "style": "Full Claude skills mode - visual, wires, dashboards, color coded",
    "forbidden": ["I have finished", "Sure I can help", "Let me know if"],
    "critical_safety": [
      "NEVER replace working components with V2 versions",
      "ITERATE on production baseline, never swap wholesale",
      "Feature branch first, preview deploy, then merge",
      "infoacademy.uk is the source of truth"
    ],
    "financial_numbers": { "ltv_cac": "9.8:1", "year1_revenue": "$501K", "seed_ask": "$1.2M", "agents": 17 },
    "logging": "Update .agent_sync_state.json every 5 minutes so other agents can see progress"
  }
}
